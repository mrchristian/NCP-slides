---
title: "Nextcloud Publishing (NCP) - Pipeline Schematic"
subtitle: "A first stage Beta open-source software development project"
author: "Team NCP: VEStOR (FHP); TIB"
date: today
footer: "CC-BY-SA 4.0 License"
---

## The NCP Pipeline Overview  {.smaller}

Project objective: to enable multi-format book production for the Open Access textbook publisher OpenRewi using the open-source tech stack: Nextcloud for production, Zotero citation management, Quarto for computational book parts, and Thoth for metadata.

```{dot}
//| file: diagrams/main.dot
```

## Pipeline Parts {.smaller}

_Definitions and tech stack_

| 1. Authoring | 2. Production | 3. Make Book | 4. Multi-format | 5. Packaging |
|---|---|---|---|---|
| A. Creating word processor documents<br>B. Creating & using citations | A. Editorial and production tasks: Review to file revision, etc<br>B. Metadata and PID use | A. Collate ODT files<br>B. Encode and organisation **_Parts of a Book_**<br>C. Book configuration | A. Convert to multi-format: PDF, PoD, web, source, etc<br>B. Automatic layout styling<br>C. Preview<br>D. Jupyter Notebooks | A. Store all outputs<br>C. Git revisioned<br>D. Public / private<br>D. Website option |
| Open-source word processor TBC; Zotero | Nextcloud: Thoth | _New original software: NCP Make Book_ | Quarto / Pandoc; Jupyter  | Quarto; GitLab |

::: aside
Parts of a Book. [See Chicago Manual of Style](https://www.chicagomanualofstyle.org/book/ed17/part1/ch01/psec001.html)  
:::
:::{.notes}
Speaker notes go here - they won't be visible to the audience
:::

## Parts, Dataflow, and Software

```{dot}
//| file: diagrams/data.dot
```

::: aside
Key: Parts - blue, Data - orange, Software - green
:::

## Config File - holds it all together {.smaller}

```yaml
# A Quarto project configuration file (_quarto.yml)  
project:
  type: book
book:
  title: "Book Title"
  author: "Author Name"
  date: "2026-02-13"
  doi: "10.1234/example.doi"
  chapters:
    - index.qmd
    - data.qmd
    - notebook.ipynb
    - references.qmd
bibliography: references.bib
repositories:
  - name: "Online Book Repository"
    url: "https://gitlab.com/account/repo"
format:
  html:
    theme: cosmo
  pdf:
    documentclass: scrreprt
  epub:
    cover-image: cover.png
```

::: aside
The challenge is how to get all the part into the  [Quarto Book Config file](https://quarto.org/docs/books/#config-file).  
:::

## Diagrams with GraphViz

GraphViz supports various diagram types:

```{dot}
//| label: fig-1  
//| fig-cap: "Main technical workflow sections 1-5"
//| file: diagrams/main.dot
```
## Diagrams with Mermaid

Mermaid diagrams for flowcharts, sequences, and more:

```{mermaid}
flowchart LR
  A[Start] --> B{Decision}
  B -->|Yes| C[Process]
  B -->|No| D[Skip]
  C --> E[End]
  D --> E
```

## Questions?

Thanks for watching!
